"use client"
import ce from"react";import{QueryClient as $r,QueryClientProvider as _r}from"@tanstack/react-query";import{useForm as jr}from"react-hook-form";import{Mail as Qr}from"lucide-react";import*as b from"react";import{Slot as Ar}from"@radix-ui/react-slot";import{Controller as Br,FormProvider as Or,useFormContext as ft}from"react-hook-form";import{useQuery as lo}from"@tanstack/react-query";function jt(e){var t,o,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(o=jt(e[t]))&&(r&&(r+=" "),r+=o)}else for(o in e)e[o]&&(r&&(r+=" "),r+=o);return r}function Le(){for(var e,t,o=0,r="",n=arguments.length;o<n;o++)(e=arguments[o])&&(t=jt(e))&&(r&&(r+=" "),r+=t);return r}var nt="-",Vo=e=>{let t=Ho(e),{conflictingClassGroups:o,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{let a=i.split(nt);return a[0]===""&&a.length!==1&&a.shift(),Jt(a,t)||qo(i)},getConflictingClassGroupIds:(i,a)=>{let l=o[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},Jt=(e,t)=>{if(e.length===0)return t.classGroupId;let o=e[0],r=t.nextPart.get(o),n=r?Jt(e.slice(1),r):void 0;if(n)return n;if(t.validators.length===0)return;let s=e.join(nt);return t.validators.find(({validator:i})=>i(s))?.classGroupId},Qt=/^\[(.+)\]$/,qo=e=>{if(Qt.test(e)){let t=Qt.exec(e)[1],o=t?.substring(0,t.indexOf(":"));if(o)return"arbitrary.."+o}},Ho=e=>{let{theme:t,classGroups:o}=e,r={nextPart:new Map,validators:[]};for(let n in o)tt(o[n],r,n,t);return r},tt=(e,t,o,r)=>{e.forEach(n=>{if(typeof n=="string"){let s=n===""?t:Wt(t,n);s.classGroupId=o;return}if(typeof n=="function"){if(Go(n)){tt(n(r),t,o,r);return}t.validators.push({validator:n,classGroupId:o});return}Object.entries(n).forEach(([s,i])=>{tt(i,Wt(t,s),o,r)})})},Wt=(e,t)=>{let o=e;return t.split(nt).forEach(r=>{o.nextPart.has(r)||o.nextPart.set(r,{nextPart:new Map,validators:[]}),o=o.nextPart.get(r)}),o},Go=e=>e.isThemeGetter,$o=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,o=new Map,r=new Map,n=(s,i)=>{o.set(s,i),t++,t>e&&(t=0,r=o,o=new Map)};return{get(s){let i=o.get(s);if(i!==void 0)return i;if((i=r.get(s))!==void 0)return n(s,i),i},set(s,i){o.has(s)?o.set(s,i):n(s,i)}}},ot="!",rt=":",_o=rt.length,jo=e=>{let{prefix:t,experimentalParseClassName:o}=e,r=n=>{let s=[],i=0,a=0,l=0,c;for(let I=0;I<n.length;I++){let x=n[I];if(i===0&&a===0){if(x===rt){s.push(n.slice(l,I)),l=I+_o;continue}if(x==="/"){c=I;continue}}x==="["?i++:x==="]"?i--:x==="("?a++:x===")"&&a--}let d=s.length===0?n:n.substring(l),u=Qo(d),h=u!==d,S=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:S}};if(t){let n=t+rt,s=r;r=i=>i.startsWith(n)?s(i.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(o){let n=r;r=s=>o({className:s,parseClassName:n})}return r},Qo=e=>e.endsWith(ot)?e.substring(0,e.length-1):e.startsWith(ot)?e.substring(1):e,Wo=e=>{let t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;let n=[],s=[];return r.forEach(i=>{i[0]==="["||t[i]?(n.push(...s.sort(),i),s=[]):s.push(i)}),n.push(...s.sort()),n}},Xo=e=>({cache:$o(e.cacheSize),parseClassName:jo(e),sortModifiers:Wo(e),...Vo(e)}),Jo=/\s+/,Ko=(e,t)=>{let{parseClassName:o,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:s}=t,i=[],a=e.trim().split(Jo),l="";for(let c=a.length-1;c>=0;c-=1){let d=a[c],{isExternal:u,modifiers:h,hasImportantModifier:S,baseClassName:I,maybePostfixModifierPosition:x}=o(d);if(u){l=d+(l.length>0?" "+l:l);continue}let U=!!x,$=r(U?I.substring(0,x):I);if(!$){if(!U){l=d+(l.length>0?" "+l:l);continue}if($=r(I),!$){l=d+(l.length>0?" "+l:l);continue}U=!1}let B=s(h).join(":"),W=S?B+ot:B,_=W+$;if(i.includes(_))continue;i.push(_);let fe=n($,U);for(let g=0;g<fe.length;++g){let q=fe[g];i.push(W+q)}l=d+(l.length>0?" "+l:l)}return l};function Zo(){let e=0,t,o,r="";for(;e<arguments.length;)(t=arguments[e++])&&(o=Kt(t))&&(r&&(r+=" "),r+=o);return r}var Kt=e=>{if(typeof e=="string")return e;let t,o="";for(let r=0;r<e.length;r++)e[r]&&(t=Kt(e[r]))&&(o&&(o+=" "),o+=t);return o};function Yo(e,...t){let o,r,n,s=i;function i(l){let c=t.reduce((d,u)=>u(d),e());return o=Xo(c),r=o.cache.get,n=o.cache.set,s=a,a(l)}function a(l){let c=r(l);if(c)return c;let d=Ko(l,o);return n(l,d),d}return function(){return s(Zo.apply(null,arguments))}}var E=e=>{let t=o=>o[e]||[];return t.isThemeGetter=!0,t},Zt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,er=/^\d+\/\d+$/,tr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,or=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sr=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ge=e=>er.test(e),y=e=>!!e&&!Number.isNaN(Number(e)),te=e=>!!e&&Number.isInteger(Number(e)),Xt=e=>e.endsWith("%")&&y(e.slice(0,-1)),X=e=>tr.test(e),ir=()=>!0,ar=e=>or.test(e)&&!rr.test(e),st=()=>!1,lr=e=>nr.test(e),cr=e=>sr.test(e),dr=e=>!m(e)&&!f(e),ur=e=>he(e,oo,st),m=e=>Zt.test(e),oe=e=>he(e,ro,ar),et=e=>he(e,Pr,y),mr=e=>he(e,eo,st),fr=e=>he(e,to,cr),pr=e=>he(e,st,lr),f=e=>Yt.test(e),ze=e=>be(e,ro),gr=e=>be(e,Sr),hr=e=>be(e,eo),br=e=>be(e,oo),wr=e=>be(e,to),vr=e=>be(e,Cr,!0),he=(e,t,o)=>{let r=Zt.exec(e);return r?r[1]?t(r[1]):o(r[2]):!1},be=(e,t,o=!1)=>{let r=Yt.exec(e);return r?r[1]?t(r[1]):o:!1},eo=e=>e==="position",yr=new Set(["image","url"]),to=e=>yr.has(e),xr=new Set(["length","size","percentage"]),oo=e=>xr.has(e),ro=e=>e==="length",Pr=e=>e==="number",Sr=e=>e==="family-name",Cr=e=>e==="shadow";var Ir=()=>{let e=E("color"),t=E("font"),o=E("text"),r=E("font-weight"),n=E("tracking"),s=E("leading"),i=E("breakpoint"),a=E("container"),l=E("spacing"),c=E("radius"),d=E("shadow"),u=E("inset-shadow"),h=E("drop-shadow"),S=E("blur"),I=E("perspective"),x=E("aspect"),U=E("ease"),$=E("animate"),B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],_=()=>["auto","hidden","clip","visible","scroll"],fe=()=>["auto","contain","none"],g=()=>[f,m,l],q=()=>[ge,"full","auto",...g()],Vt=()=>[te,"none","subgrid",f,m],qt=()=>["auto",{span:["full",te,f,m]},f,m],De=()=>[te,"auto",f,m],Ht=()=>["auto","min","max","fr",f,m],Ke=()=>["start","end","center","between","around","evenly","stretch","baseline"],pe=()=>["start","end","center","stretch"],j=()=>["auto",...g()],ee=()=>[ge,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...g()],N=()=>[e,f,m],Ze=()=>[Xt,oe],R=()=>["","none","full",c,f,m],O=()=>["",y,ze,oe],Ee=()=>["solid","dashed","dotted","double"],Gt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$t=()=>["","none",S,f,m],_t=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",f,m],Ue=()=>["none",y,f,m],Te=()=>["none",y,f,m],Ye=()=>[y,f,m],Re=()=>[ge,"full",...g()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[X],breakpoint:[X],color:[ir],container:[X],"drop-shadow":[X],ease:["in","out","in-out"],font:[dr],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[X],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[X],shadow:[X],spacing:["px",y],text:[X],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ge,m,f,x]}],container:["container"],columns:[{columns:[y,m,f,a]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),m,f]}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:fe()}],"overscroll-x":[{"overscroll-x":fe()}],"overscroll-y":[{"overscroll-y":fe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[te,"auto",f,m]}],basis:[{basis:[ge,"full","auto",a,...g()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[y,ge,"auto","initial","none",m]}],grow:[{grow:["",y,f,m]}],shrink:[{shrink:["",y,f,m]}],order:[{order:[te,"first","last","none",f,m]}],"grid-cols":[{"grid-cols":Vt()}],"col-start-end":[{col:qt()}],"col-start":[{"col-start":De()}],"col-end":[{"col-end":De()}],"grid-rows":[{"grid-rows":Vt()}],"row-start-end":[{row:qt()}],"row-start":[{"row-start":De()}],"row-end":[{"row-end":De()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ht()}],"auto-rows":[{"auto-rows":Ht()}],gap:[{gap:g()}],"gap-x":[{"gap-x":g()}],"gap-y":[{"gap-y":g()}],"justify-content":[{justify:[...Ke(),"normal"]}],"justify-items":[{"justify-items":[...pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...pe()]}],"align-content":[{content:["normal",...Ke()]}],"align-items":[{items:[...pe(),"baseline"]}],"align-self":[{self:["auto",...pe(),"baseline"]}],"place-content":[{"place-content":Ke()}],"place-items":[{"place-items":[...pe(),"baseline"]}],"place-self":[{"place-self":["auto",...pe()]}],p:[{p:g()}],px:[{px:g()}],py:[{py:g()}],ps:[{ps:g()}],pe:[{pe:g()}],pt:[{pt:g()}],pr:[{pr:g()}],pb:[{pb:g()}],pl:[{pl:g()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":g()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":g()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[a,"screen",...ee()]}],"min-w":[{"min-w":[a,"screen","none",...ee()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[i]},...ee()]}],h:[{h:["screen",...ee()]}],"min-h":[{"min-h":["screen","none",...ee()]}],"max-h":[{"max-h":["screen",...ee()]}],"font-size":[{text:["base",o,ze,oe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,f,et]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xt,m]}],"font-family":[{font:[gr,m,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,f,m]}],"line-clamp":[{"line-clamp":[y,"none",f,et]}],leading:[{leading:[s,...g()]}],"list-image":[{"list-image":["none",f,m]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",f,m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[y,"from-font","auto",f,oe]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[y,"auto",f,m]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",f,m]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",f,m]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),hr,mr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",br,ur]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},te,f,m],radial:["",f,m],conic:[te,f,m]},wr,fr]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:Ze()}],"gradient-via-pos":[{via:Ze()}],"gradient-to-pos":[{to:Ze()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[y,f,m]}],"outline-w":[{outline:["",y,ze,oe]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",d,vr,pr]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,m,u]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[y,oe]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":N()}],opacity:[{opacity:[y,f,m]}],"mix-blend":[{"mix-blend":[...Gt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Gt()}],filter:[{filter:["","none",f,m]}],blur:[{blur:$t()}],brightness:[{brightness:[y,f,m]}],contrast:[{contrast:[y,f,m]}],"drop-shadow":[{"drop-shadow":["","none",h,f,m]}],grayscale:[{grayscale:["",y,f,m]}],"hue-rotate":[{"hue-rotate":[y,f,m]}],invert:[{invert:["",y,f,m]}],saturate:[{saturate:[y,f,m]}],sepia:[{sepia:["",y,f,m]}],"backdrop-filter":[{"backdrop-filter":["","none",f,m]}],"backdrop-blur":[{"backdrop-blur":$t()}],"backdrop-brightness":[{"backdrop-brightness":[y,f,m]}],"backdrop-contrast":[{"backdrop-contrast":[y,f,m]}],"backdrop-grayscale":[{"backdrop-grayscale":["",y,f,m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y,f,m]}],"backdrop-invert":[{"backdrop-invert":["",y,f,m]}],"backdrop-opacity":[{"backdrop-opacity":[y,f,m]}],"backdrop-saturate":[{"backdrop-saturate":[y,f,m]}],"backdrop-sepia":[{"backdrop-sepia":["",y,f,m]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":g()}],"border-spacing-x":[{"border-spacing-x":g()}],"border-spacing-y":[{"border-spacing-y":g()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",f,m]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[y,"initial",f,m]}],ease:[{ease:["linear","initial",U,f,m]}],delay:[{delay:[y,f,m]}],animate:[{animate:["none",$,f,m]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,f,m]}],"perspective-origin":[{"perspective-origin":_t()}],rotate:[{rotate:Ue()}],"rotate-x":[{"rotate-x":Ue()}],"rotate-y":[{"rotate-y":Ue()}],"rotate-z":[{"rotate-z":Ue()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[f,m,"","none","gpu","cpu"]}],"transform-origin":[{origin:_t()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",f,m]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",f,m]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[y,ze,oe,et]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}};var no=Yo(Ir);var it=class extends Error{code;constructor(t){super(t?.message??t),this.name="UnknownError",this.code=t.code,t instanceof Error&&(this.stack=t.stack)}toJSON(){return{name:this.name,message:this.message,stack:this.stack}}};function at(e){return e instanceof Error&&!(e instanceof it)?{message:e.message,stack:e.stack,name:e.name}:(Nr(e)&&(e.error=at(e.error),e.message=e.message??e.error.message),e)}function Nr(e){return!!e?.error}var Ae={error(e,t){t=at(t),console.error(`[nile-auth][error][${e}]`,t.message,t)},warn(e){console.warn(`[nile-auth][warn][${e}]`)},debug(e,t){console.log(`[next-auth][debug][${e}]`,t)}};function kr(e=Ae,t){try{if(typeof window>"u")return e;let o={};for(let r in e)o[r]=(n,s)=>{Ae[r](n,s),r==="error"&&(s=at(s)),s.client=!0;let i=`${t.state.basePath}/_log`,a=new URLSearchParams({level:r,code:n,...s});return navigator.sendBeacon?navigator.sendBeacon(i,a):fetch(i,{method:"POST",body:a,keepalive:!0})};return o}catch{return Ae}}var Be=e=>kr(Ae,e);function we(){return Math.floor(Date.now()/1e3)}function Mr(e="nextauth.message"){return{receive(t){let o=r=>{if(r.key!==e)return;let n=JSON.parse(r.newValue??"{}");n?.event!=="session"||!n?.data||t(n)};return window.addEventListener("storage",o),()=>window.removeEventListener("storage",o)},post(t){if(!(typeof window>"u"))try{localStorage.setItem(e,JSON.stringify({...t,timestamp:we()}))}catch{}}}}var ve=Mr();function so(e,t){if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null||Array.isArray(e)!==Array.isArray(t))return!1;let o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(let n of o)if(!r.includes(n)||!so(e[n],t[n]))return!1;return!0}function io(e,t=["loading","session"],o="objectChange"){let r=new EventTarget,n=new Map,s={set(i,a,l){let c=i[a];return i[a]=l,so(c,l)||t.includes(String(a))&&r.dispatchEvent(new CustomEvent(o,{detail:{key:a,prev:c,next:l}})),!0}};return{proxy:new Proxy(e,s),eventTarget:r,addListener(i){if(n.has(i))return;let a=l=>i(l.detail);n.set(i,a),r.addEventListener(o,a)},removeListener(i){let a=n.get(i);a&&(r.removeEventListener(o,a),n.delete(i))}}}var Se=class{state;logger;requestInit;addListener;removeListener;status;constructor(t){let{proxy:o,addListener:r,removeListener:n}=io({basePath:lt(t?.basePath).path,baseUrl:lt(t?.baseUrl).origin,lastSync:0,getSession:()=>{},session:void 0,loading:!0},t?.listenerKeys,"auth");this.state=o,this.addListener=r,this.removeListener=n,this.logger=Be(this),this.status=null}async sync(t){try{if((t==="storage"||!this.state.session)&&(this.state.getSession=await this.getSession,this.state.lastSync=we()),!t||this.state.session==null||we()<this.state.lastSync)return;this.state.lastSync=Date.now(),this.state.session=await this.getSession()}catch(o){this.logger.error("CLIENT_SESSION_ERROR",o)}}set baseUrl(t){this.state.baseUrl=t,this.logger=Be(this)}get baseUrl(){return this.logger=Be(this),this.state.baseUrl}configure(t){return t?.basePath&&(this.state.basePath=lt(t?.basePath).path),t?.baseUrl&&(this.baseUrl=t.baseUrl),t?.init&&(this.requestInit=t.init),this}sanitize(){return{state:{baseUrl:this.baseUrl,session:{user:{email:this.state.session?.user?.email}}},requestInit:this.requestInit}}async initialize(t){let{baseUrl:o,session:r,event:n}=t??{};o&&(this.baseUrl=o);let s=r!==void 0;this.state.loading=!s,this.state.lastSync=s?we():0,this.state.session=r,await this.sync(n)}get apiBaseUrl(){return`${this.baseUrl}${this.state.basePath}`}async fetchData(t,o){let r,n;try{let s={headers:{"Content-Type":"application/json"},...this.requestInit?this.requestInit:{},...o};n=await fetch(t,s),r=n.clone(),this.state.loading=!1;let i=await n.json();if(!n.ok)throw i;return Object.keys(i).length>0?i:void 0}catch(s){if(s instanceof Error)if(!s.message.includes("is not valid JSON"))this.logger.error("CLIENT_FETCH_ERROR",{error:s,url:t});else{let i=await r?.text();if(i&&r){let a=new URLSearchParams({error:i});return{url:`${t}?${a}`}}}return}}async fetchFormData(t,o){try{let r=await fetch(t,{...this.requestInit,...o,headers:{"Content-Type":"application/x-www-form-urlencoded"}});return{data:await r.json(),status:r.status,ok:r.ok,url:t}}catch(r){r instanceof Error&&(r.message.includes("is not valid JSON")||this.logger.error("CLIENT_FETCH_ERROR",{error:r,url:t}));return}}async getProviders(){return await this.fetchData(`${this.apiBaseUrl}/auth/providers`)}async getCsrfToken(){return(await this.fetchData(`${this.apiBaseUrl}/auth/csrf`))?.csrfToken}async getSession(t){if(this.status==="getSession")return;if(this.status="getSession",t?.init&&(this.requestInit=t.init),t?.baseUrl&&(this.baseUrl=t.baseUrl),this.state.session&&we()<this.state.lastSync)return this.status=null,this.state.session;this.state.loading=!0;let o=await this.fetchData(`${this.apiBaseUrl}/auth/session`);return(t?.broadcast??!0)&&ve.post({event:"session",data:{trigger:"getSession"}}),this.status=null,o?(this.state.session=o,await this.sync("storage"),{...o,loading:this.state.loading}):{loading:this.state.loading}}async refreshSession(){this.state.loading=!0;let t=await this.fetchData(`${this.apiBaseUrl}/auth/session`);return ve.post({event:"session",data:{trigger:"getSession"}}),this.state.session=t,await this.sync("storage"),t}async signOut(t){let{callbackUrl:o=window.location.href,baseUrl:r,auth:n,fetchUrl:s,basePath:i}=t??{};i&&(this.state.basePath=i),r&&(this.baseUrl=r),n&&(this.requestInit=n.requestInit,n.state?.baseUrl&&(this.baseUrl=n.state.baseUrl));let a=s??`${this.apiBaseUrl}/auth/signout`,l={method:"post",body:new URLSearchParams({csrfToken:String(await this.getCsrfToken()),callbackUrl:o,json:String(!0)})},c=await this.fetchFormData(a,l);if(ve.post({event:"session",data:{trigger:"signout"}}),this.requestInit?.credentials){window.location.href=o,o.includes("#")&&window.location.reload();return}if(t?.redirect??!0){let d=c?.data?.url??o;window.location.href=d,d.includes("#")&&window.location.reload();return}return await this.state.getSession({event:"storage"}),c?.data}async signIn(t,o,r){let{callbackUrl:n=window.location.href,baseUrl:s,fetchUrl:i,init:a,auth:l,redirect:c=!0,...d}=o??{};s&&(this.baseUrl=s),l&&(l.requestInit&&(this.requestInit=l.requestInit),l.state?.baseUrl&&(this.baseUrl=l.state.baseUrl)),a&&(this.requestInit=a);let u=i??`${this.apiBaseUrl}/auth`,h=await this.getProviders();if(!h)return{error:"No providers enabled"};if(!t||!(t in h))return{error:`Provider ${t} not enabled`};let S=h[t].type==="credentials",I=h[t].type==="email",x=S||I,$=`${`${u}/${S?"callback":"signin"}/${t}`}${r?`?${new URLSearchParams(r)}`:""}`,B=await this.fetchFormData($,{method:"post",body:new URLSearchParams({...d,csrfToken:String(await this.getCsrfToken()),callbackUrl:n,json:String(!0)})});if(this.requestInit?.credentials&&x){window.location.reload();return}if(c||!x){let _=B?.data.url??n;window.location.href=_,_.includes("#")&&window.location.reload();return}let W=B?.data?.url?new URL(String(B?.data?.url)).searchParams.get("error"):null;return B?.ok&&(await this.initialize(),await this.getSession({event:"storage"})),{error:W,status:B?.status,ok:B?.ok,url:W?null:B?.url}}async signUp(t){let{password:o,tenantId:r,fetchUrl:n,newTenantName:s,createTenant:i,baseUrl:a,init:l,email:c,auth:d,callbackUrl:u=window.location.href}=t;a&&(this.baseUrl=a),d&&(d.requestInit&&(this.requestInit=d.requestInit),d.state?.baseUrl&&(this.baseUrl=d.state.baseUrl)),l&&(this.requestInit=l);let h=new URLSearchParams;s?h.set("newTenantName",s):i&&(typeof i=="boolean"?h.set("newTenantName",c):typeof i=="string"&&h.set("newTenantName",i)),r&&h.set("tenantId",r);let S=n??`${this.apiBaseUrl}/signup`;h.size>0&&(S+=`?${h}`);let I=await this.fetchData(S,{method:"post",body:JSON.stringify({email:c,password:o})}),x=I?.url?new URL(I.url).searchParams.get("error"):null;if(!x){if(I&&(await this.initialize({event:"storage"}),await this.getSession({event:"storage"})),this.requestInit?.credentials){window.location.reload();return}if(t?.redirect??!0){let U=u;window.location.href=U,U.includes("#")&&window.location.reload()}}return{data:I,error:x}}};function lt(e){let t=new URL("http://localhost:3000");typeof window<"u"&&(t=new URL(`${window.location.origin}/api`)),e&&!e.startsWith("http")&&(e=`https://${e}`);let o=new URL(e??t),r=(o.pathname==="/"?t.pathname:o.pathname).replace(/\/$/,""),n=`${o.origin}${r}`;return{origin:o.origin,host:o.host,path:r,base:n,toString:()=>n}}var Fr=new Se,Dr=()=>Fr,C=Dr(),Er=async function(t){return await C.getSession(t)},Ur=async function(){return C.getCsrfToken()},Tr=async function(){return C.getProviders()},ct=async function(t){return C.signOut(t)},k=async function(t,o,r){return C.signIn(t,o,r)},ao=async function(t){return C.signUp(t)};function p(...e){return no(Le(e))}function J(e,t={},o){let r,n=t;if("init"in t){let{init:a,...l}=t;r=a,n=l}if("auth"in t){let{auth:a,...l}=t;r={...r,...a?.requestInit?a.requestInit:{}},n=l}let s={...n,...r||{},...o?.init?o.init:{},...o?.auth?.requestInit?o.auth.requestInit:{},...n||{}};s.headers={..."headers"in t?t.headers:{},"content-type":"application/json; charset=UTF-8"};let i=e;if(!("fetchUrl"in t)&&e.startsWith("/")){let a="auth"in t?t.auth:o?.auth,l=Lr(o,t,a);i=`${Rr(o,t,a)}${l}${e}`}return fetch(i,s)}var Rr=(e,t={},o)=>{if(e?.baseUrl)return e.baseUrl;if("baseUrl"in t)return t.baseUrl;if(o?.state?.baseUrl)return o?.state?.baseUrl;if(C.state.baseUrl)return C.state.baseUrl},Lr=(e,t={},o)=>{if(e?.basePath)return e.basePath;if("basePath"in t)return t.basePath;if(o?.state?.basePath)return o?.state?.basePath;if(C.state.basePath)return C.state.basePath};function co(e){let{baseUrl:t="",disableQuery:o,init:r,client:n,fetchUrl:s}=e??{};lo({queryKey:["providers",t],queryFn:async()=>await fetch(s??`${t}/api/auth/providers`,r),enabled:o!==!0},n),dt(e)}function dt(e){let{baseUrl:t="",disableQuery:o,init:r,client:n,fetchUrl:s}=e??{};lo({queryKey:["csrf",t],queryFn:async()=>await fetch(s??`${t}/api/auth/csrf`,r),enabled:o!==!0},n)}import*as Ve from"react";import*as ut from"@radix-ui/react-label";var uo=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mo=Le,Oe=(e,t)=>o=>{var r;if(t?.variants==null)return mo(e,o?.class,o?.className);let{variants:n,defaultVariants:s}=t,i=Object.keys(n).map(c=>{let d=o?.[c],u=s?.[c];if(d===null)return null;let h=uo(d)||uo(u);return n[c][h]}),a=o&&Object.entries(o).reduce((c,d)=>{let[u,h]=d;return h===void 0||(c[u]=h),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:h,...S}=d;return Object.entries(S).every(I=>{let[x,U]=I;return Array.isArray(U)?U.includes({...s,...a}[x]):{...s,...a}[x]===U})?[...c,u,h]:c},[]);return mo(e,i,l,o?.class,o?.className)};var zr=Oe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mt=Ve.forwardRef(({className:e,...t},o)=>Ve.createElement(ut.Root,{ref:o,className:p(zr(),e),...t}));mt.displayName=ut.Root.displayName;import*as qe from"react";var K=qe.forwardRef(({className:e,type:t,...o},r)=>qe.createElement("input",{type:t,className:p("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...o}));K.displayName="Input";var V=Or,fo=b.createContext({}),ye=({...e})=>b.createElement(fo.Provider,{value:{name:e.name}},b.createElement(Br,{...e})),He=()=>{let e=b.useContext(fo),t=b.useContext(po),{getFieldState:o,formState:r}=ft(),n=o(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");let{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...n}},po=b.createContext({}),re=b.forwardRef(({className:e,...t},o)=>{let r=b.useId();return b.createElement(po.Provider,{value:{id:r}},b.createElement("div",{ref:o,className:p("py-2",e),...t}))});re.displayName="FormItem";var ne=b.forwardRef(({className:e,...t},o)=>{let{error:r,formItemId:n}=He();return b.createElement(mt,{ref:o,className:p(r&&"text-destructive",e),htmlFor:n,...t})});ne.displayName="FormLabel";var se=b.forwardRef(({...e},t)=>{let{error:o,formItemId:r,formDescriptionId:n,formMessageId:s}=He();return b.createElement(Ar,{ref:t,id:r,"aria-describedby":o?`${n} ${s}`:`${n}`,"aria-invalid":!!o,...e})});se.displayName="FormControl";var ie=b.forwardRef(({className:e,...t},o)=>{let{formDescriptionId:r}=He();return b.createElement("p",{ref:o,id:r,className:p("text-sm text-muted-foreground",e),...t})});ie.displayName="FormDescription";var ae=b.forwardRef(({className:e,children:t,...o},r)=>{let{error:n,formMessageId:s}=He(),i=n?String(n?.message):t;return i?b.createElement("p",{ref:r,id:s,className:p("text-sm font-medium text-destructive",e),...o},i):null});ae.displayName="FormMessage";var H=()=>{let e=ft();return b.createElement(ye,{control:e.control,name:"email",render:({field:t})=>b.createElement(re,null,b.createElement(ne,null,"Email"),b.createElement(se,null,b.createElement(K,{placeholder:"Email",...t,autoComplete:"current-email",required:!0})),b.createElement(ie,null,"Your email address"),b.createElement(ae,null))})},le=()=>{let e=ft();return b.createElement(ye,{control:e.control,name:"password",render:({field:t})=>b.createElement(re,null,b.createElement(ne,null,"Password"),b.createElement(se,null,b.createElement(K,{placeholder:"Password",...t,type:"password",autoComplete:"current-password",required:!0})),b.createElement(ie,null,"The desired password"),b.createElement(ae,null))})};import*as Q from"react";import{Slottable as Vr,Slot as qr}from"@radix-ui/react-slot";import{Loader2 as Hr}from"lucide-react";var M=Oe("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 gap-1",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=Q.forwardRef(({asChild:e=!1,children:t,className:o,disabled:r,loading:n,size:s,variant:i,...a},l)=>Q.createElement(e?qr:"button",{className:p(M({variant:i,size:s,className:o})),ref:l,disabled:n||r,...a},Q.createElement(Vr,null,n?Q.createElement("div",{className:"relative flex items-center justify-center"},Q.createElement("div",{className:"absolute"},Q.createElement(Hr,{className:"animate-spin"})),Q.createElement("span",{className:"opacity-0"},t)):t)));L.displayName="Button";import{useMutation as Gr}from"@tanstack/react-query";function Ge(e){let{onSuccess:t,onError:o,beforeMutate:r,callbackUrl:n,redirect:s=!1,init:i}=e??{};return Gr({mutationFn:async l=>{let c={...l,callbackUrl:n,redirect:s},u=(r&&r(c))??c,h=await k("email",{init:i,...u});if(h?.error)throw new Error(h.error);return h},onSuccess:t,onError:o}).mutate}var Wr=new $r;function pt(e){let{client:t,...o}=e??{};return ce.createElement(_r,{client:t??Wr},ce.createElement(Xr,{...o}))}function Xr(e){let t=Ge(e),o=jr({defaultValues:{email:""}});return ce.createElement(V,{...o},ce.createElement("form",{onSubmit:o.handleSubmit(({email:r})=>t&&t({email:r})),className:"space-y-8"},ce.createElement(H,null),ce.createElement(L,{type:"submit",className:"flex flex-row gap-2"},ce.createElement(Qr,null),"Sign in with email")))}import{Slot as Jr}from"@radix-ui/react-slot";import gt from"react";import{Mail as Kr}from"lucide-react";var go=({callbackUrl:e,className:t,variant:o,size:r,asChild:n=!1,redirect:s=!1,buttonText:i="Continue with Email",email:a,onFailure:l,onSent:c,fetchUrl:d,baseUrl:u,auth:h,...S})=>gt.createElement(n?Jr:"button",{className:p(M({variant:o,size:r,className:t})),"data-slot":"email-signin-button",onClick:async()=>{let x=await k("email",{email:a,callbackUrl:e,redirect:s,fetchUrl:d,baseUrl:u,auth:h});x&&"error"in x?l&&l(x):c&&c()},...S},S.children?S.children:gt.createElement("div",{className:"flex flex-row gap-2 items-center"},gt.createElement(Kr,null),i));go.displayName="EmailSignInButton";var ho=go;import G from"react";import{Slot as Zr}from"@radix-ui/react-slot";var bo=({callbackUrl:e,className:t,variant:o,size:r,buttonText:n="Continue with Google",asChild:s=!1,init:i,auth:a,fetchUrl:l,baseUrl:c,...d})=>G.createElement(s?Zr:"button",{"data-slot":"google-button",className:p(M({variant:o,size:r,className:t}),"bg-[#4285f4] hover:bg-[#4285f4] hover:bg-opacity-85 pl-[3px] text-white"),onClick:()=>{k("google",{callbackUrl:e,init:i,auth:a,fetchUrl:l,baseUrl:c})},...d},G.createElement("div",{className:"inline-flex items-center flex-1 justify-between font-roboto rounded-[4px] gap-4 google-logo"},G.createElement("div",{style:{background:"white",borderRadius:"4px",padding:"0.5rem"}},G.createElement(Yr,null)),n));bo.displayName="GoogleSSOButton";var wo=bo;function Yr(){return G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18"},G.createElement("g",{fill:"#000",fillRule:"evenodd"},G.createElement("path",{d:"M9 3.48c1.69 0 2.83.73 3.48 1.34l2.54-2.48C13.46.89 11.43 0 9 0 5.48 0 2.44 2.02.96 4.96l2.91 2.26C4.6 5.05 6.62 3.48 9 3.48z",fill:"#EA4335"}),G.createElement("path",{d:"M17.64 9.2c0-.74-.06-1.28-.19-1.84H9v3.34h4.96c-.1.83-.64 2.08-1.84 2.92l2.84 2.2c1.7-1.57 2.68-3.88 2.68-6.62z",fill:"#4285F4"}),G.createElement("path",{d:"M3.88 10.78A5.54 5.54 0 0 1 3.58 9c0-.62.11-1.22.29-1.78L.96 4.96A9.008 9.008 0 0 0 0 9c0 1.45.35 2.82.96 4.04l2.92-2.26z",fill:"#FBBC05"}),G.createElement("path",{d:"M9 18c2.43 0 4.47-.8 5.96-2.18l-2.84-2.2c-.76.53-1.78.9-3.12.9-2.38 0-4.4-1.57-5.12-3.74L.97 13.04C2.45 15.98 5.48 18 9 18z",fill:"#34A853"}),G.createElement("path",{fill:"none",d:"M0 0h18v18H0z"})))}import Z from"react";import{Slot as en}from"@radix-ui/react-slot";var vo=({callbackUrl:e,className:t,buttonText:o="Continue with Microsoft",variant:r,size:n,init:s,asChild:i=!1,auth:a,fetchUrl:l,baseUrl:c,...d})=>Z.createElement(i?en:"button",{"data-slot":"azure-button",className:p(M({variant:r,size:n,className:t}),"bg-[#0078d4] hover:bg-[#0078d4] hover:bg-opacity-85 pl-[3px] text-white gap-4 transition-colors shadow-md"),onClick:()=>{k("azure-ad",{callbackUrl:e,init:s,auth:a,fetchUrl:l,baseUrl:c})},...d},Z.createElement(on,null),o);vo.displayName="AzureSignInButton";var tn=vo,on=()=>Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23 23",className:"w-5 h-5 ml-3"},Z.createElement("path",{fill:"#f3f3f3",d:"M0 0h23v23H0z"}),Z.createElement("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),Z.createElement("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),Z.createElement("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),Z.createElement("path",{fill:"#ffba08",d:"M12 12h10v10H12z"}));import de from"react";import{Slot as rn}from"@radix-ui/react-slot";var yo=({callbackUrl:e,className:t,buttonText:o="Continue with Discord",variant:r,size:n,asChild:s=!1,init:i,auth:a,fetchUrl:l,baseUrl:c,...d})=>de.createElement(s?rn:"button",{className:p(M({variant:r,size:n,className:t}),"bg-[#5865F2] hover:bg-[#5865F2] hover:bg-opacity-85 pl-[3px] gap-4 transition-colors border shadow-md text-white"),"data-slot":"discord-button",onClick:()=>{k("discord",{callbackUrl:e,init:i,auth:a,fetchUrl:l,baseUrl:c})},...d},de.createElement(sn,null),o);yo.displayName="DiscordSignInButton";var nn=yo,sn=()=>de.createElement("svg",{className:"w-5 h-5 ml-3",viewBox:"0 0 75 59",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},de.createElement("title",null,"discord-icon"),de.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},de.createElement("g",{id:"discord-icon",transform:"translate(2.000000, 2.411745)",fillRule:"nonzero",stroke:"#636262",strokeWidth:"0"},de.createElement("path",{d:"M60.1044999,4.48605546 C55.5791999,2.40965546 50.7264999,0.879855461 45.6526999,0.00367546142 C45.5602999,-0.0132345386 45.4679999,0.0290244614 45.4203999,0.113544461 C44.7962999,1.22355546 44.1049999,2.67165546 43.6208999,3.80985546 C38.1636999,2.99285546 32.7344999,2.99285546 27.3891999,3.80985546 C26.9049999,2.64635546 26.1885999,1.22355546 25.5616999,0.113544461 C25.5140999,0.0318444614 25.4217999,-0.0104145386 25.3293999,0.00367546142 C20.2583999,0.877055461 15.4056999,2.40685546 10.8775999,4.48605546 C10.8383999,4.50295546 10.8047999,4.53115546 10.7824999,4.56775546 C1.57794989,18.3191555 -0.94356111,31.7325555 0.29340789,44.9796555 C0.29900489,45.0444555 0.33538589,45.1064555 0.38576089,45.1458555 C6.45865989,49.6056555 12.3412999,52.3131555 18.1146999,54.1077555 C18.2070999,54.1359555 18.3049999,54.1021555 18.3637999,54.0260555 C19.7294999,52.1610555 20.9468999,50.1945555 21.9906999,48.1265555 C22.0522999,48.0054555 21.9934999,47.8617555 21.8675999,47.8138555 C19.9365999,47.0813555 18.0978999,46.1882555 16.3291999,45.1740555 C16.1892999,45.0923555 16.1780999,44.8922555 16.3067999,44.7964555 C16.6789999,44.5175555 17.0512999,44.2273555 17.4066999,43.9343555 C17.4709999,43.8808555 17.5605999,43.8695555 17.6361999,43.9033555 C29.2557999,49.2084555 41.8353999,49.2084555 53.3178999,43.9033555 C53.3934999,43.8667555 53.4830999,43.8780555 53.5501999,43.9315555 C53.9056999,44.2245555 54.2778999,44.5175555 54.6528999,44.7964555 C54.7815999,44.8922555 54.7731999,45.0923555 54.6332999,45.1740555 C52.8645999,46.2079555 51.0258999,47.0813555 49.0920999,47.8110555 C48.9661999,47.8589555 48.9101999,48.0054555 48.9717999,48.1265555 C50.0379999,50.1916555 51.2553999,52.1581555 52.5958999,54.0232555 C52.6518999,54.1021555 52.7525999,54.1359555 52.8449999,54.1077555 C58.6463999,52.3131555 64.5289999,49.6056555 70.6018999,45.1458555 C70.6550999,45.1064555 70.6886999,45.0472555 70.6942999,44.9824555 C72.1746999,29.6673555 68.2146999,16.3639555 60.1967999,4.57055546 C60.1771999,4.53115546 60.1436999,4.50295546 60.1044999,4.48605546 Z M23.7258999,36.9135555 C20.2275999,36.9135555 17.3450999,33.7018555 17.3450999,29.7575555 C17.3450999,25.8132555 20.1716999,22.6015555 23.7258999,22.6015555 C27.3079999,22.6015555 30.1625999,25.8414555 30.1065999,29.7575555 C30.1065999,33.7018555 27.2799999,36.9135555 23.7258999,36.9135555 Z M47.3177999,36.9135555 C43.8195999,36.9135555 40.9370999,33.7018555 40.9370999,29.7575555 C40.9370999,25.8132555 43.7635999,22.6015555 47.3177999,22.6015555 C50.8999999,22.6015555 53.7544999,25.8414555 53.6985999,29.7575555 C53.6985999,33.7018555 50.8999999,36.9135555 47.3177999,36.9135555 Z",id:"Shape",fill:"white"}))));import $e from"react";import{Slot as an}from"@radix-ui/react-slot";var xo=({callbackUrl:e,className:t,buttonText:o="Continue with GitHub",variant:r,size:n,init:s,asChild:i=!1,auth:a,fetchUrl:l,baseUrl:c,...d})=>$e.createElement(i?an:"button",{"data-slot":"github-button",className:p(M({variant:r,size:n,className:t}),"bg-black hover:bg-slate-800 pl-[3px] text-white gap-4 transition-colors shadow-md"),onClick:()=>{k("github",{callbackUrl:e,init:s,auth:a,fetchUrl:l,baseUrl:c})},...d},$e.createElement(cn,null),o);xo.displayName="GitHubSignInButton";var ln=xo,cn=()=>$e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32.58 31.77",fill:"currentColor",className:"w-5 h-5 ml-3"},$e.createElement("path",{fill:"#FFFFFF",d:"M16.29,0a16.29,16.29,0,0,0-5.15,31.75c.82.15,1.11-.36,1.11-.79s0-1.41,0-2.77C7.7,29.18,6.74,26,6.74,26a4.36,4.36,0,0,0-1.81-2.39c-1.47-1,.12-1,.12-1a3.43,3.43,0,0,1,2.49,1.68,3.48,3.48,0,0,0,4.74,1.36,3.46,3.46,0,0,1,1-2.18c-3.62-.41-7.42-1.81-7.42-8a6.3,6.3,0,0,1,1.67-4.37,5.94,5.94,0,0,1,.16-4.31s1.37-.44,4.48,1.67a15.41,15.41,0,0,1,8.16,0c3.11-2.11,4.47-1.67,4.47-1.67A5.91,5.91,0,0,1,25,11.07a6.3,6.3,0,0,1,1.67,4.37c0,6.26-3.81,7.63-7.44,8a3.85,3.85,0,0,1,1.11,3c0,2.18,0,3.94,0,4.47s.29.94,1.12.78A16.29,16.29,0,0,0,16.29,0Z"}));import _e from"react";import{Slot as dn}from"@radix-ui/react-slot";var Po=({callbackUrl:e,className:t,buttonText:o="Continue with HubSpot",variant:r,size:n,init:s,asChild:i=!1,auth:a,fetchUrl:l,baseUrl:c,...d})=>_e.createElement(i?dn:"button",{"data-slot":"hubspot-button",className:p(M({variant:r,size:n,className:t}),"bg-[#ff7a59] hover:bg-[#ff7a59] hover:bg-opacity-85 pl-[3px] text-white gap-4 transition-colors shadow-md"),onClick:()=>{k("hubspot",{callbackUrl:e,init:s,auth:a,fetchUrl:l,baseUrl:c})},...d},_e.createElement(mn,null),o);Po.displayName="HubSpotSignInButton";var un=Po,mn=()=>_e.createElement("svg",{className:"w-5 h-5 ml-3",viewBox:"6.20856283 .64498824 244.26943717 251.24701176",xmlns:"http://www.w3.org/2000/svg"},_e.createElement("path",{d:"m191.385 85.694v-29.506a22.722 22.722 0 0 0 13.101-20.48v-.677c0-12.549-10.173-22.722-22.721-22.722h-.678c-12.549 0-22.722 10.173-22.722 22.722v.677a22.722 22.722 0 0 0 13.101 20.48v29.506a64.342 64.342 0 0 0 -30.594 13.47l-80.922-63.03c.577-2.083.878-4.225.912-6.375a25.6 25.6 0 1 0 -25.633 25.55 25.323 25.323 0 0 0 12.607-3.43l79.685 62.007c-14.65 22.131-14.258 50.974.987 72.7l-24.236 24.243c-1.96-.626-4-.959-6.057-.987-11.607.01-21.01 9.423-21.007 21.03.003 11.606 9.412 21.014 21.018 21.017 11.607.003 21.02-9.4 21.03-21.007a20.747 20.747 0 0 0 -.988-6.056l23.976-23.985c21.423 16.492 50.846 17.913 73.759 3.562 22.912-14.352 34.475-41.446 28.985-67.918-5.49-26.473-26.873-46.734-53.603-50.792m-9.938 97.044a33.17 33.17 0 1 1 0-66.316c17.85.625 32 15.272 32.01 33.134.008 17.86-14.127 32.522-31.977 33.165",fill:"white"}));import Ce from"react";import{Slot as fn}from"@radix-ui/react-slot";var So=({callbackUrl:e,className:t,buttonText:o="Continue with LinkedIn",variant:r,size:n,asChild:s=!1,init:i,auth:a,fetchUrl:l,baseUrl:c,...d})=>Ce.createElement(s?fn:"button",{"data-slot":"linkedin-button",className:p(M({variant:r,size:n,className:t}),"bg-[#0288D1] hover:bg-[#0288D1] pl-[3px] hover:bg-opacity-85 gap-4 transition-colors shadow-md text-white"),onClick:()=>{k("linkedin",{callbackUrl:e,init:i,auth:a,fetchUrl:l,baseUrl:c})},...d},Ce.createElement(gn,null),o);So.displayName="LinkedInSignInButton";var pn=So,gn=()=>Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"w-6 h-6 ml-3"},Ce.createElement("path",{fill:"#fff",d:"M42,37c0,2.762-2.238,5-5,5H11c-2.761,0-5-2.238-5-5V11c0-2.762,2.239-5,5-5h26c2.762,0,5,2.238,5,5V37z"}),Ce.createElement("path",{fill:"#0288D1",d:"M12 19H17V36H12zM14.485 17h-.028C12.965 17 12 15.888 12 14.499 12 13.08 12.995 12 14.514 12c1.521 0 2.458 1.08 2.486 2.499C17 15.887 16.035 17 14.485 17zM36 36h-5v-9.099c0-2.198-1.225-3.698-3.192-3.698-1.501 0-2.313 1.012-2.707 1.99C24.957 25.543 25 26.511 25 27v9h-5V19h5v2.616C25.721 20.5 26.85 19 29.738 19c3.578 0 6.261 2.25 6.261 7.274L36 36 36 36z"}));import Y from"react";import{Slot as hn}from"@radix-ui/react-slot";var Co=({callbackUrl:e,className:t,buttonText:o="Continue with Slack",variant:r,size:n,init:s,asChild:i=!1,...a})=>Y.createElement(i?hn:"button",{className:p(M({variant:r,size:n,className:t}),"bg-[#4A154B] hover:bg-[#4A154B] pl-[3px] hover:bg-opacity-85 gap-4 transition-colors shadow-md text-white"),"data-slot":"slack-button",onClick:()=>{k("slack",{callbackUrl:e,init:s})},...a},Y.createElement(wn,null),o);Co.displayName="SlackSignInButton";var bn=Co,wn=()=>Y.createElement("svg",{enableBackground:"new 0 0 2447.6 2452.5",viewBox:"0 0 2447.6 2452.5",className:"w-5 h-5 ml-3",xmlns:"http://www.w3.org/2000/svg"},Y.createElement("g",{clipRule:"evenodd",fillRule:"evenodd"},Y.createElement("path",{d:"m897.4 0c-135.3.1-244.8 109.9-244.7 245.2-.1 135.3 109.5 245.1 244.8 245.2h244.8v-245.1c.1-135.3-109.5-245.1-244.9-245.3.1 0 .1 0 0 0m0 654h-652.6c-135.3.1-244.9 109.9-244.8 245.2-.2 135.3 109.4 245.1 244.7 245.3h652.7c135.3-.1 244.9-109.9 244.8-245.2.1-135.4-109.5-245.2-244.8-245.3z",fill:"#36c5f0"}),Y.createElement("path",{d:"m2447.6 899.2c.1-135.3-109.5-245.1-244.8-245.2-135.3.1-244.9 109.9-244.8 245.2v245.3h244.8c135.3-.1 244.9-109.9 244.8-245.3zm-652.7 0v-654c.1-135.2-109.4-245-244.7-245.2-135.3.1-244.9 109.9-244.8 245.2v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.3z",fill:"#2eb67d"}),Y.createElement("path",{d:"m1550.1 2452.5c135.3-.1 244.9-109.9 244.8-245.2.1-135.3-109.5-245.1-244.8-245.2h-244.8v245.2c-.1 135.2 109.5 245 244.8 245.2zm0-654.1h652.7c135.3-.1 244.9-109.9 244.8-245.2.2-135.3-109.4-245.1-244.7-245.3h-652.7c-135.3.1-244.9 109.9-244.8 245.2-.1 135.4 109.4 245.2 244.7 245.3z",fill:"#ecb22e"}),Y.createElement("path",{d:"m0 1553.2c-.1 135.3 109.5 245.1 244.8 245.2 135.3-.1 244.9-109.9 244.8-245.2v-245.2h-244.8c-135.3.1-244.9 109.9-244.8 245.2zm652.7 0v654c-.2 135.3 109.4 245.1 244.7 245.3 135.3-.1 244.9-109.9 244.8-245.2v-653.9c.2-135.3-109.4-245.1-244.7-245.3-135.4 0-244.9 109.8-244.8 245.1 0 0 0 .1 0 0",fill:"#e01e5a"})));import je from"react";import{Slot as vn}from"@radix-ui/react-slot";var Io=({callbackUrl:e,className:t,buttonText:o="Continue with X",variant:r,size:n,init:s,asChild:i=!1,auth:a,fetchUrl:l,baseUrl:c,...d})=>je.createElement(i?vn:"button",{className:p(M({variant:r,size:n,className:t}),"bg-black hover:bg-slate-800 pl-[3px] text-white gap-4 transition-colors shadow-md"),"data-slot":"twitter-button",onClick:()=>{k("twitter",{callbackUrl:e,init:s,auth:a,fetchUrl:l,baseUrl:c})},...d},je.createElement(xn,null),o);Io.displayName="XSignInButton";var yn=Io,xn=()=>je.createElement("svg",{className:"w-5 h-5 ml-3",viewBox:"0 0 24 24",version:"1.1"},je.createElement("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",fill:"#ffffff"}));import bt from"react";import ue from"react";import{QueryClient as Sn,QueryClientProvider as Cn}from"@tanstack/react-query";import{useForm as In}from"react-hook-form";import{useMutation as Pn}from"@tanstack/react-query";function Qe(e,t){let{onSuccess:o,onError:r,beforeMutate:n,...s}=e,i=Pn({mutationFn:async a=>{let l=n&&n(a),c={...a,...l},{data:d,error:u}=await ao({...s,...c});if(u)throw new Error(u);return d},onSuccess:o,onError:r},t);return co(e),i.mutate}var Nn=new Sn;function ht(e){let{client:t}=e??{};return ue.createElement(Cn,{client:t??Nn},ue.createElement(kn,{...e}))}function kn(e){let t=Qe(e),o=In({defaultValues:{email:"",password:""}});return ue.createElement(V,{...o},ue.createElement("form",{onSubmit:o.handleSubmit(({email:r,password:n})=>t({email:r,password:n})),className:"space-y-8"},ue.createElement(H,null),ue.createElement(le,null),ue.createElement(L,null,"Sign up")))}function wt({className:e,...t}){return bt.createElement("div",{className:p(e,"flex flex-col gap-4")},bt.createElement("div",{className:"font-sans text-3xl"},"Sign up"),bt.createElement(ht,{...t}))}import yt from"react";import me from"react";import{QueryClient as Fn,QueryClientProvider as Dn}from"@tanstack/react-query";import{useForm as En}from"react-hook-form";import{useMutation as Mn}from"@tanstack/react-query";function We(e){let{onSuccess:t,onError:o,beforeMutate:r,callbackUrl:n,init:s,baseUrl:i,fetchUrl:a,auth:l,redirect:c}=e??{};return Mn({mutationFn:async u=>{let h={...u,callbackUrl:n},I=(r&&r(h))??h,x=await k("credentials",{init:s,auth:l,baseUrl:i,fetchUrl:a,redirect:c,...I});if(!x?.ok&&x?.error)throw new Error(x.error);return x},onSuccess:t,onError:o}).mutate}var Un=new Fn;function vt(e){let{client:t,...o}=e??{};return me.createElement(Dn,{client:t??Un},me.createElement(Tn,{...o}))}function Tn(e){let t=We(e),o=En({defaultValues:{email:"",password:""}});return me.createElement(V,{...o},me.createElement("form",{onSubmit:o.handleSubmit(({email:r,password:n})=>t&&t({email:r,password:n})),className:"space-y-8"},me.createElement(H,null),me.createElement(le,null),me.createElement(L,{type:"submit"},"Sign In")))}function xt({className:e,...t}){return yt.createElement("div",{className:p(e,"flex flex-col gap-4")},yt.createElement("h2",{className:"font-sans text-3xl"},"Sign In"),yt.createElement(vt,{...t}))}import Pt from"react";import{Slot as Rn}from"@radix-ui/react-slot";import{LogOut as Ln}from"lucide-react";var No=({callbackUrl:e,redirect:t,className:o,buttonText:r="Sign out",variant:n,size:s,baseUrl:i,fetchUrl:a,basePath:l,auth:c,asChild:d=!1,...u})=>Pt.createElement(d?Rn:"button",{"data-slot":"signout-button",className:M({variant:n,size:s,className:o}),onClick:()=>{ct({callbackUrl:e,redirect:t,baseUrl:i,auth:c,fetchUrl:a,basePath:l})},...u},u.children?u.children:Pt.createElement("div",{className:"flex flex-row gap-2 items-center"},Pt.createElement(Ln,null),r));No.displayName="SignOutButton";var zn=No;import St from"react";import z from"react";function ko(e,t){return e?"loading":t?"authenticated":"unauthenticated"}function An(){let[e,t]=z.useState(typeof navigator<"u"?navigator.onLine:!1),o=()=>t(!0),r=()=>t(!1);return z.useEffect(()=>(window.addEventListener("online",o),window.addEventListener("offline",r),()=>{window.removeEventListener("online",o),window.removeEventListener("offline",r)}),[]),e}var Ie=z.createContext?.(void 0);function Ne(e){if(!Ie)throw new Error("React Context is unavailable in Server Components");let t=z.useContext(Ie),{required:o,onUnauthenticated:r}=e??{},n=o&&t.status==="unauthenticated";return z.useEffect(()=>{if(n){let s=`/api/auth/signin?${new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href})}`;r?r():window.location.href=s}},[n,r]),n?{data:t.data,update:t.update,status:"loading"}:t}function ke(e){if(!Ie)throw new Error("React Context is unavailable in Server Components");let[t,o]=z.useState(C.state.loading),{children:r,refetchWhenOffline:n,refetchInterval:s,refetchOnWindowFocus:i}=e;e.basePath&&(C.state.basePath=e.basePath);let[a,l]=z.useState(e.session&&!(e.session instanceof Response)?e.session:null);z.useEffect(()=>{let S=I=>{let{key:x,next:U}=I;x==="loading"&&o(U),x==="session"&&l(U)};return C.addListener(S),()=>{C.removeListener(S)}},[]),z.useEffect(()=>{e.session&&!(e.session instanceof Response)?C.initialize({baseUrl:e.baseUrl,session:e.session}):C.status||C.getSession({baseUrl:e.baseUrl})},[e.baseUrl,e.session]);let c=An(),d=n!==!1||c,u=z.useCallback(()=>{document.visibilityState==="visible"&&C.sync("visibilitychange")},[]);z.useEffect(()=>{if(s&&d){let S=setInterval(()=>{C.state.session&&C.state.getSession({event:"poll"})},s*1e3);return()=>clearInterval(S)}},[s,d]),z.useEffect(()=>{i?document.addEventListener("visibilitychange",u,!1):document.removeEventListener("visibilitychange",u);let S=ve.receive(()=>C.sync("storage"));return()=>{C.state.lastSync=0,C.state.session=void 0,C.state.getSession=()=>{},S(),document.removeEventListener("visibilitychange",u,!1)}},[i,u]);let h=z.useMemo(()=>({data:a||null,status:ko(t,a),async update(){return await C.refreshSession()}}),[t,a]);return z.createElement(Ie.Provider,{value:h},r)}function Ct(e){return e&&"exp"in e?{...e,expires:new Date(e.exp*1e3).toISOString()}:e}function Mo({children:e,session:t,...o}){if(t instanceof Response)return null;let r=Ct(t);return St.createElement(ke,{...o,session:r},St.createElement(Bn,{className:o.className},e))}function Bn({children:e,className:t}){let{status:o}=Ne();return o==="authenticated"?t?St.createElement("div",{className:t},e):e:null}import It from"react";function Fo({children:e,session:t,...o}){if(t instanceof Response)return null;let r=Ct(t);return It.createElement(ke,{...o,session:r},It.createElement(On,{className:o.className},e))}function On({className:e,children:t}){let{status:o}=Ne();return o==="unauthenticated"?e?It.createElement("div",{className:e},t):t:null}import v,{useCallback as ns,useEffect as ss,useState as zo}from"react";import{QueryClient as is,QueryClientProvider as as,useMutation as ls}from"@tanstack/react-query";import{ArrowLeftRight as cs,ChevronDown as ds,Plus as Ro}from"lucide-react";import{useForm as us}from"react-hook-form";import*as P from"react";import*as w from"@radix-ui/react-dropdown-menu";import{Check as Vn,ChevronRight as qn,Circle as Hn}from"lucide-react";var Do=w.Root,Nt=P.forwardRef(({className:e,...t},o)=>P.createElement(w.Trigger,{ref:o,className:p("focus-visible:outline-hidden hover:bg-accent focus:bg-accent flex flex-row gap-2 items-center justify-between px-4 py-2 rounded-lg border data-disabled:pointer-events-none data-disabled:opacity-50",e),...t}));Nt.displayName=w.Trigger.displayName;var Gn=P.forwardRef(({className:e,inset:t,children:o,...r},n)=>P.createElement(w.SubTrigger,{ref:n,className:p("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r},o,P.createElement(qn,{className:"ml-auto"})));Gn.displayName=w.SubTrigger.displayName;var $n=P.forwardRef(({className:e,...t},o)=>P.createElement(w.SubContent,{ref:o,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));$n.displayName=w.SubContent.displayName;var kt=P.forwardRef(({className:e,sideOffset:t=4,...o},r)=>P.createElement(w.Portal,null,P.createElement(w.Content,{ref:r,sideOffset:t,className:p("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...o})));kt.displayName=w.Content.displayName;var Mt=P.forwardRef(({className:e,inset:t,active:o,...r},n)=>P.createElement(w.Item,{ref:n,className:p("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",o&&"bg-accent text-accent-foreground",e),...r}));Mt.displayName=w.Item.displayName;var _n=P.forwardRef(({className:e,children:t,checked:o,...r},n)=>P.createElement(w.CheckboxItem,{ref:n,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),checked:o,...r},P.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},P.createElement(w.ItemIndicator,null,P.createElement(Vn,{className:"h-4 w-4"}))),t));_n.displayName=w.CheckboxItem.displayName;var jn=P.forwardRef(({className:e,children:t,...o},r)=>P.createElement(w.RadioItem,{ref:r,className:p("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e),...o},P.createElement("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center"},P.createElement(w.ItemIndicator,null,P.createElement(Hn,{className:"h-2 w-2 fill-current"}))),t));jn.displayName=w.RadioItem.displayName;var Qn=P.forwardRef(({className:e,inset:t,...o},r)=>P.createElement(w.Label,{ref:r,className:p("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...o}));Qn.displayName=w.Label.displayName;var Ft=P.forwardRef(({className:e,...t},o)=>P.createElement(w.Separator,{ref:o,className:p("-mx-1 my-1 h-px bg-muted",e),...t}));Ft.displayName=w.Separator.displayName;var Wn=({className:e,...t})=>P.createElement("span",{className:p("ml-auto text-xs tracking-widest opacity-60",e),...t});Wn.displayName="DropdownMenuShortcut";import*as T from"react";import*as F from"@radix-ui/react-dialog";import{X as Xn}from"lucide-react";var Eo=F.Root,Uo=F.Trigger,Jn=F.Portal;var To=T.forwardRef(({className:e,...t},o)=>T.createElement(F.Overlay,{ref:o,className:p("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));To.displayName=F.Overlay.displayName;var Dt=T.forwardRef(({className:e,children:t,...o},r)=>T.createElement(Jn,null,T.createElement(To,null),T.createElement(F.Content,{ref:r,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...o},t,T.createElement(F.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},T.createElement(Xn,{className:"h-4 w-4"}),T.createElement("span",{className:"sr-only"},"Close")))));Dt.displayName=F.Content.displayName;var Et=({className:e,...t})=>T.createElement("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Et.displayName="DialogHeader";var Kn=({className:e,...t})=>T.createElement("div",{className:p("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Kn.displayName="DialogFooter";var Ut=T.forwardRef(({className:e,...t},o)=>T.createElement(F.Title,{ref:o,className:p("text-lg font-semibold leading-none tracking-tight",e),...t}));Ut.displayName=F.Title.displayName;var Tt=T.forwardRef(({className:e,...t},o)=>T.createElement(F.Description,{ref:o,className:p("text-sm text-muted-foreground",e),...t}));Tt.displayName=F.Description.displayName;import Zn,{useCallback as Yn,useEffect as es}from"react";import{useQuery as ts}from"@tanstack/react-query";var Rt="nile.tenant_id";function Me(e,t){let{disableQuery:o,tenants:r,baseUrl:n=""}=e;return ts({queryKey:["tenants",n],queryFn:async()=>{let i=await J(e.fetchUrl??"/tenants",{headers:{"content-type":"application/json"}},e);if(!i.ok)throw new Error("Failed to fetch tenants");return i.json()},enabled:!o||r?.length===0,initialData:r},t)}function Xe(e,t){let[o,r]=Zn.useState(e?.tenant?.id),{refetch:n}=Me({disableQuery:!0,...e},t);es(()=>{if(!o){let i=os(Rt);i?r(i):n()}},[n,o]);let s=Yn(i=>{r(i),rs(Rt,i)},[]);return[o,s]}var os=e=>{let t=document.cookie.split("; ");for(let o of t){let[r,n]=o.split("=");if(r===e)return n}return null},rs=(e,t)=>{document.cookie=`${e}=${t}; path=/; samesite=lax`};var ms=new is;function Ao(e){let{client:t}=e??{};return v.createElement(as,{client:t??ms},v.createElement(fs,{...e}))}function fs(e){let{data:t=[],isLoading:o,refetch:r}=Me(e),{buttonText:n="Create an organization",emptyText:s="You are not part of an organization."}=e,[i,a]=Xe(e),[l,c]=zo(!1),d=t.find(u=>u.id===i);return ss(()=>{!e.tenants?.length&&t?.length>0&&!d&&a(t[0].id)},[e.tenants?.length,t]),!o&&!i||!d?.name?v.createElement("div",{className:p("flex flex-col items-center gap-2",e.className)},v.createElement("p",null,s),v.createElement(Lo,{...e,onSuccess:u=>{a(u.id),c(!1),r()},trigger:v.createElement(L,null,v.createElement(Ro,{size:18})," ",n)})):v.createElement("div",null,v.createElement("div",{className:p(e.className)},v.createElement("div",{className:"text-sm pb-1.5 opacity-70 flex flex-row gap-1 items-center"},v.createElement(cs,{size:14}),"Switch organization"),v.createElement("div",{className:"flex flex-row w-full flex-1 items-center gap-1"},v.createElement(Do,{open:l,onOpenChange:c},v.createElement(Nt,{className:"group w-80",disabled:!d?.name,onClick:()=>{c(!0)}},d?.name??"Loading...",v.createElement(ds,{className:"transition-transform duration-200 ease-in-out group-data-[state=open]:rotate-180"})),v.createElement(kt,{className:"flex flex-col gap-0.5 max-h-96 overflow-auto custom-scrollbar w-80"},t?.map(u=>v.createElement(Mt,{key:u.id,onClick:()=>a(u.id),active:u.id===d?.id},u.name)),v.createElement(Ft,null),v.createElement(Lo,{...e,onSuccess:u=>{c(!1),a(u.id),r()},trigger:v.createElement(L,{variant:"ghost",className:"self-center"},v.createElement(Ro,{size:18})," Create new organization")}))))))}function Lo(e){let[t,o]=zo(!1),{trigger:r,beforeMutate:n,onSuccess:s,onError:i}=e,a=us({defaultValues:{name:""}}),l=ls({mutationFn:async d=>{let h=(n&&n(d))??d,S=await J(e?.fetchUrl??"/tenants",{method:"POST",body:JSON.stringify(h)},e);if(!S.ok)throw new Error("Failed to fetch tenants");return S.json()},onSuccess:async d=>{o(!1),s&&s(d)},onError:i}),c=ns(d=>{l.mutate(d)},[l]);return v.createElement(Eo,{open:t,onOpenChange:o},v.createElement(Uo,{asChild:!0},r),v.createElement(Dt,null,v.createElement(Et,null,v.createElement(Ut,null,"Create an organization"),v.createElement(Tt,null,"An organization is a group of users.")),v.createElement(V,{...a},v.createElement("form",{onSubmit:a.handleSubmit(c)},v.createElement(ye,{control:a.control,name:"name",render:({field:d})=>v.createElement(re,null,v.createElement(ne,null,"Name"),v.createElement(se,null,v.createElement(K,{placeholder:"Organization name",...d,autoFocus:!0})),v.createElement(ie,null,"This is the name of your organization."),v.createElement(ae,null))}),v.createElement(L,{type:"submit",className:"py-2",loading:l.isPending},"Submit")))))}import{BadgeCheck as Bo,CalendarCheck as gs,CircleUserRound as hs,Mail as bs}from"lucide-react";import D,{useMemo as ws}from"react";import{QueryClient as vs,QueryClientProvider as ys}from"@tanstack/react-query";import{useQuery as ps}from"@tanstack/react-query";function Je(e){let{baseUrl:t="",fetchUrl:o,client:r,user:n,auth:s}=e,{data:i,isLoading:a}=ps({queryKey:["me",t],queryFn:async()=>await(await J(o??"/me",e)).json(),enabled:n==null},r);return n||i?n??i:s&&!(n&&a)?s.state?.session?.user??i:null}var xs=new vs;function Oo(e){return D.createElement(ys,{client:xs??e.client},D.createElement(Ps,{...e}))}function Ps(e){let t=Je(e),o=D.useMemo(()=>t&&typeof t=="object"&&"picture"in t&&t.picture?D.createElement("img",{src:t.picture,alt:`${t.name} profile picture`,referrerPolicy:"no-referrer"}):e.profilePicturePlaceholder?e.profilePicturePlaceholder:D.createElement("div",{className:"drop-shadow-md",style:{background:"linear-gradient(90deg, #F4C587, #D6D3E9, #99D2EC)"}},D.createElement(hs,{size:100,className:"opacity-70 stroke-black",style:{strokeWidth:".5px"}})),[t==null]),r=ws(()=>{if(t?.name)return t?.name;let n="";return t?.givenName&&(n=t?.givenName),t?.familyName&&(n=`${n} ${t?.familyName}`),n},[t?.familyName,t?.givenName,t?.name]);return t?D.createElement("div",{className:p(e.className,"flex flex-col gap-2 items-center")},D.createElement("div",{className:"flex flex-col gap-5 pb-2 items-center"},D.createElement("div",{className:"flex flex-col gap-2 items-center w-36 mx-auto"},D.createElement("div",{className:"rounded-full border border-background overflow-hidden shadow-md"},o)),D.createElement("div",{className:"font-bold flex flex-row gap-1 capitalize"},r)),D.createElement("div",{className:"flex flex-row gap-5 justify-between w-full"},D.createElement("div",{className:"flex flex-row gap-2 text-sm items-center w-36"},D.createElement(bs,{size:14}),"Email:"),D.createElement("div",{className:"flex flex-row gap-1 items-center"},t.emailVerified?D.createElement(Bo,{className:"stroke-white fill-green-700",size:14}):D.createElement(Bo,{className:"opacity-40",size:14}),t.email," ")),t.created?D.createElement("div",{className:"flex flex-row gap-5 justify-between w-full"},D.createElement("div",{className:"flex flex-row gap-2 text-sm items-center w-36"},D.createElement(gs,{size:14}),"Created:"),new Date(t.created).toLocaleString()):null):"Loading..."}import zt from"react";import{QueryClient as Cs,QueryClientProvider as Is}from"@tanstack/react-query";import{useForm as Ns}from"react-hook-form";import Pe from"react";import{useMutation as Ss}from"@tanstack/react-query";function xe(e){let{onSuccess:t,onError:o,beforeMutate:r,callbackUrl:n,baseUrl:s="",basePath:i="api"}=e??{},a=Ss({mutationFn:async l=>{let c={...l,callbackUrl:n},u=(r&&r(c))??c,h=e?.fetchUrl??`${s}/${i}/auth/reset-password`;return u&&typeof u=="object"&&"callbackUrl"in u&&!u.callbackUrl&&n&&(u.callbackURL=n),u.redirectURL=h,await J("/auth/reset-password",{method:u.password?"put":"post",body:JSON.stringify(u)},e)},onSuccess:l=>{t&&t(l)},onError:o});return dt(e),a.mutate}var ks=new Cs;function Lt(e){return Pe.createElement(Is,{client:e.client??ks},Pe.createElement(Ms,{...e}))}function Ms(e){let{defaultValues:t,...o}=e,r=Ns({defaultValues:{email:"",...t}}),n=xe(o);return Pe.createElement(V,{...r},Pe.createElement("form",{className:"py-2",onSubmit:r.handleSubmit(({email:s})=>{n({email:s})})},Pe.createElement(H,null),Pe.createElement(L,{type:"submit"},"Reset password")))}function At(e){return zt.createElement("div",{className:"flex flex-col gap-4"},zt.createElement("h2",{className:"font-sans text-3xl"},"Request password reset"),zt.createElement(Lt,{...e}))}import{QueryClient as zs,QueryClientProvider as As}from"@tanstack/react-query";import Fe from"react";import{QueryClient as Fs,QueryClientProvider as Ds}from"@tanstack/react-query";import{useForm as Es}from"react-hook-form";import A,{useEffect as Us,useState as Ts}from"react";var Rs=new Fs;function Bt(e){return A.createElement(Ds,{client:e.client??Rs},A.createElement(Ls,{...e}))}function Ls(e){let{defaultValues:t,...o}=e,r=Es({defaultValues:{email:"",password:"",confirmPassword:"",...t}}),n=xe(o),s=r.watch("password"),i=r.watch("confirmPassword"),[a,l]=Ts(!0);return Us(()=>{r.clearErrors(),!s||!i?l(!0):i&&s!==i?s!==i&&(r.setError("confirmPassword",{message:"Passwords must match."}),a||l(!0)):l(!1)},[s,i,a,r]),A.createElement(V,{...r},A.createElement("form",{onSubmit:r.handleSubmit(({email:c,password:d})=>{n({email:c,password:d})}),className:"py-2"},A.createElement(H,null),A.createElement(le,null),A.createElement(ye,{control:r.control,name:"confirmPassword",render:({field:c})=>A.createElement(re,null,A.createElement(ne,null,"Confirm password"),A.createElement(se,null,A.createElement(K,{placeholder:"Password",...c,type:"password",autoComplete:"new-password"})),A.createElement(ie,null,"An updated password"),A.createElement(ae,null))}),A.createElement(L,{type:"submit",disabled:Object.keys(r.formState.errors).length>0||a},"Update password")))}var Bs=new zs;function Ot(e){let{client:t,...o}=e;return Fe.createElement(As,{client:t??Bs},Fe.createElement(Os,{...o}))}function Os(e){return Fe.createElement("div",{className:"flex flex-col gap-4"},Fe.createElement("h2",{className:"font-sans text-3xl"},"Reset password"),Fe.createElement(Bt,{...e}))}export{Se as Authorizer,tn as Azure,nn as Discord,H as Email,pt as EmailSignIn,ho as EmailSignInButton,ln as GitHub,wo as Google,un as HubSpot,pn as LinkedIn,le as Password,Ot as PasswordResetForm,At as PasswordResetRequestForm,Ie as SessionContext,ke as SessionProvider,xt as SignInForm,zn as SignOutButton,wt as SignUpForm,Mo as SignedIn,Fo as SignedOut,bn as Slack,Ao as TenantSelector,Oo as UserInfo,yn as X,C as auth,Ur as getCsrfToken,Tr as getProviders,Er as getSession,k as signIn,ct as signOut,Ge as useEmailSignIn,Je as useMe,xe as useResetPassword,Ne as useSession,We as useSignIn,Qe as useSignUp,Xe as useTenantId,Me as useTenants};
//# sourceMappingURL=index.mjs.map